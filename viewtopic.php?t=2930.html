<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html dir="ltr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="top" href="index.php.html" title="Computer-Forum Foren-Übersicht" />
<link rel="search" href="http://www.computer-forum.net/search.php" title="Suchen" />
<link rel="help" href="faq.php.html" title="FAQ" />
<link rel="author" href="memberlist.php.html" title="Mitgliederliste" />
<link rel="prev" href="http://www.computer-forum.net/viewtopic.php?t=2930&amp;view=previous" title="Vorheriges Thema anzeigen" />
<link rel="next" href="http://www.computer-forum.net/viewtopic.php?t=2930&amp;view=next" title="Nächstes Thema anzeigen" />
<link rel="up" href="viewforum.php%3Ff=10.html" title="Programmieren" />
<link rel="chapter forum" href="viewforum.php%3Ff=2.html" title="Linux" />
<link rel="chapter forum" href="viewforum.php%3Ff=3.html" title="Mac OS X / Unix" />
<link rel="chapter forum" href="viewforum.php%3Ff=4.html" title="Windows" />
<link rel="chapter forum" href="viewforum.php%3Ff=5.html" title="Sonst. Betriebssysteme" />
<link rel="chapter forum" href="viewforum.php%3Ff=6.html" title="Hardware" />
<link rel="chapter forum" href="viewforum.php%3Ff=7.html" title="Mobile Computing" />
<link rel="chapter forum" href="viewforum.php%3Ff=8.html" title="Anwendungen" />
<link rel="chapter forum" href="viewforum.php%3Ff=9.html" title="Spiele" />
<link rel="chapter forum" href="viewforum.php%3Ff=10.html" title="Programmieren" />
<link rel="chapter forum" href="viewforum.php%3Ff=11.html" title="Sicherheit" />
<link rel="chapter forum" href="viewforum.php%3Ff=12.html" title="Netzwerk" />
<link rel="chapter forum" href="viewforum.php%3Ff=13.html" title="Web-Forum" />
<link rel="chapter forum" href="viewforum.php%3Ff=1.html" title="Rund ums Forum" />
<link rel="chapter forum" href="viewforum.php%3Ff=18.html" title="Kaufberatung" />
<link rel="chapter forum" href="viewforum.php%3Ff=15.html" title="Smalltalk" />

<title>Computer-Forum :: Thema anzeigen - Problem mit DX...C++</title>
<link rel="stylesheet" href="templates/DAJ_Glass/DAJ_Glass.css" type="text/css" />

<!-- Start add - Birthday MOD -->

<!-- End add - Birthday MOD -->

</head>
<body>

<a name="top"></a>
<!-- <div style="color: red;position:fixed;left:30%;top:20px;width:40%;font-size:2em;font-weight:bold">
  Abschaltung des CF zum 1.5.2014 - <a href="http://www.computer-forum.net/viewtopic.php?t=5559">mehr Infos</a>

</div> -->
<table width="100%" cellspacing="0" cellpadding="0" border="0">
  <tr>
  	<td height="14" width="25" nowrap="nowrap" class="ul"><span class="vsmall">&nbsp;</span></td>
	<td width="100%" colspan="2" class="uc"><span class="vsmall">&nbsp;</span></td>
	<td width="25" nowrap="nowrap" class="ur"><span class="vsmall">&nbsp;</span></td>
  </tr>
  <tr>
  	<td class="headl"><span class="vsmall">&nbsp;</span></td>
	<td class="row3" colspan="2">
	<a href="index.php.html"><img src="templates/DAJ_Glass/images/logo_phpBB.gif" border="0" alt="Computer-Forum Foren-Übersicht" /></a>
	</td>
	<td class="headr"><span class="vsmall">&nbsp;</span></td>
  </tr>
  <tr valign="bottom">
  	<td rowspan="3" class="tul"><span class="vsmall">&nbsp;</span></td>
	<td height="30" class="tuc">
	<a href="index.php.html" class="mainmenu1">Computer-Forum</a>
	</td>
	<td align="right" nowrap="nowrap" class="tuc">
	  <table cellspacing="0" cellpadding="0" border="0">
	  	<tr>
		  <td><a href="faq.php.html"><img src="templates/DAJ_Glass/images/icon_mini_faq.gif" border="0" alt="FAQ" /></a></td>
		  <td><span class="mainmenu1">&nbsp;<a href="faq.php.html" class="mainmenu1">FAQ</a>ï¿½ï¿½</span></td>
		  <td><a href="http://www.computer-forum.net/search.php"><img src="templates/DAJ_Glass/images/icon_mini_search.gif" border="0" alt="Suchen" /></a></td>
		  <td><span class="mainmenu1">&nbsp;<a href="http://www.computer-forum.net/search.php" class="mainmenu1">Suchen</a>ï¿½ï¿½</span></td>
		  <td><a href="memberlist.php.html"><img src="templates/DAJ_Glass/images/icon_mini_members.gif" border="0" alt="Mitgliederliste" /></a></td>
		  <td><span class="mainmenu1">&nbsp;<a href="memberlist.php.html" class="mainmenu1">Mitgliederliste</a>ï¿½ï¿½</span></td>
		  <td><a href="groupcp.php.html"><img src="templates/DAJ_Glass/images/icon_mini_groups.gif" border="0" alt="Benutzergruppen" /></a></td>
		  <td><span class="mainmenu1">&nbsp;<a href="groupcp.php.html" class="mainmenu1">Benutzergruppen</a></span></td>
		</tr>
	  </table>
	</td>
	<td rowspan="3" class="tur"><span class="vsmall">&nbsp;</span></td>
  </tr>
  <tr>
  	<td height="10" colspan="2" class="row5"><img src="templates/DAJ_Glass/images/spacer.gif" border="0" height="1" width="1"></td>
  </tr>
  <tr valign="top">
	<td height="30" nowrap="nowrap" class="tlc"><span class="mainmenu1">
	<a href="profile.php%3Fmode=register.html" class="mainmenu1">Registrieren</a>&nbsp;&nbsp;::&nbsp;
	<a href="login.php.html" class="mainmenu1">Login</a>
	</span></td>
	<td nowrap="nowrap" align="right" class="tlc"><span class="mainmenu1">
	<a href="privmsg.php%3Ffolder=inbox.html" class="mainmenu1">Einloggen, um private Nachrichten zu lesen</a>
	</span></td>
  </tr>
  <tr>
    <td class="left"><span class="vsmall">&nbsp;</span></td>
	<td colspan="2" class="row2"><br />

<table width="100%" cellspacing="1" cellpadding="1" border="0">
  <tr valign="top">
	<td nowrap="nowrap"><img src="templates/DAJ_Glass/images/nav.gif" border="0"></td>
	<td width="100%"><span class="mainmenu"><a href="index.php.html" class="mainmenu">Computer-Forum Foren-Übersicht</a> » <a href="viewforum.php%3Ff=10.html" class="mainmenu">Programmieren</a> » <a class="mainmenu" href="viewtopic.php%3Ft=2930&amp;start=0&amp;postdays=0&amp;postorder=asc&amp;highlight=.html">Problem mit DX...C++</a></span></td>
  </tr>
</table>

<br />

<table width="100%" cellspacing="1" cellpadding="1" border="0">
  <tr>
	<td valign="middle" nowrap="nowrap"><span class="nav"><a href="posting.php%3Fmode=newtopic&amp;f=10.html"><img src="templates/DAJ_Glass/images/lang_german/post.gif" border="0" alt="Neues Thema eröffnen" align="middle" /></a>  <a href="http://www.computer-forum.net/posting.php?mode=reply&amp;t=2930"><img src="templates/DAJ_Glass/images/lang_german/reply.gif" border="0" alt="Neue Antwort erstellen" align="middle" /></a></span></td>
	<td valign="middle" align="left" width="50%"><span class="gensmall"><b></b></span></td>
		             <td align="right" valign="bottom" class="gensmall">
				       <a href="http://www.computer-forum.net/search.php?search_id=unanswered" class="gensmall">Unbeantwortete Beiträge anzeigen</a></td>


  </tr>
</table>

<table width="100%" cellspacing="0" cellpadding="0" class="forumline">
  <tr valign="middle">
	<td height="25" nowrap="nowrap" class="row4"><span class="cattitle"> Problem mit DX...C++</span></td>
	<td align="right" class="row4"><span class="mainmenu1">« <a href="http://www.computer-forum.net/viewtopic.php?t=2930&amp;view=previous" class="mainmenu1">Vorheriges Thema anzeigen</a> :: <a href="http://www.computer-forum.net/viewtopic.php?t=2930&amp;view=next" class="mainmenu1">Nächstes Thema anzeigen</a> » </span></td>
  </tr>
  <tr>
  	<td colspan="2">
	  <table width="100%" cellspacing="1" cellpadding="3" border="0">
		
		<tr align="center">
		  <td class="row6" width="150" height="20" nowrap="nowrap"><span class="mainmenu">Autor</span></td>
		  <td class="row6" nowrap="nowrap"><span class="mainmenu">Nachricht</span></th>
		</tr>
		<tr valign="middle">
		  <td class="row1" width="150" height="20" nowrap="nowrap"><span class="name"><a name="18962"></a><b>mr. xyz</b></span></td>
		  <td class="row1" width="100%">
		    <table width="100%" border="0" cellspacing="0" cellpadding="0">
			  <tr>
				<td width="100%"><a href="http://www.computer-forum.net/viewtopic.php?p=18962#18962"><img src="templates/DAJ_Glass/images/icon_minipost.gif" alt="Beitrag" title="Beitrag" border="0" /></a><span class="postdetails">Verfasst am: 30.03.2008 - 21:25<span class="genmed"> </span>   Titel: Problem mit DX...C++</span></td>
				<td nowrap="nowrap" valign="middle"><a href="http://www.computer-forum.net/posting.php?mode=quote&amp;p=18962"><img src="templates/DAJ_Glass/images/lang_german/icon_quote.gif" alt="Antworten mit Zitat" title="Antworten mit Zitat" border="0" /></a>   </td>
			  </tr>
			</table>
		  </td>
		</tr>
		<tr>
		  <td valign="top" align="center" class="row2"><br /><span class="postdetails">Briefschreiber<br /><img src="images/raenge/briefschreiber.gif" alt="Briefschreiber" title="Briefschreiber" border="0" /><br /><br /></span><div align="left"><span class="postdetails">Anmeldungsdatum: 01.02.2008<br />Beiträge: 39<br /></span></div><br /></td>
		  <td class="row2" width="100%" height="28" valign="top">
		    <table width="100%" border="0" cellspacing="0" cellpadding="0">
			  <tr>
				<td><span class="postbody">Hallo,
<br />
Könnt ihr mir bei diesem Problem weiterhelfen: Das initialiesieren eines D3DDevices schlägt fehl. Aber nur bei dem Projekt, dass ich geschrieben habe, bei dem DXSDKSample gehts.
<br />

<br />
Bitte helft mir!
<br />
mfg<br />_________________<br />Es gibt keine Evolutionstheorie,sondern nur eine Liste von Tieren, die Chuck Norris erlaubt zu Leben .
<br />

<br />

<br />
Chuck Norris war schonmal auf dem Mars, deshalb gibt es auch kein Leben dort!</span><span class="gensmall"></span></td>
			  </tr>
			</table>
		  </td>
		</tr>
		<tr>
		  <td class="row6" valign="middle"><a href="viewtopic.php%3Ft=2930.html#top" class="mainmenu">Nach oben</a></td>
		  <td class="row6" width="100%" height="20" valign="bottom" nowrap="nowrap">
		  	<table cellspacing="0" cellpadding="0" border="0" height="18" width="18">
			  <tr>
				<td valign="middle" nowrap="nowrap"><a href="profile.php%3Fmode=viewprofile&amp;u=1407.html"><img src="templates/DAJ_Glass/images/lang_german/icon_profile.gif" alt="Benutzer-Profile anzeigen" title="Benutzer-Profile anzeigen" border="0" /></a> <a href="privmsg.php%3Fmode=post&amp;u=1407.html"><img src="templates/DAJ_Glass/images/lang_german/icon_pm.gif" alt="Private Nachricht senden" title="Private Nachricht senden" border="0" /></a> <a href="mailto:Franz.Scherr@hotmail.com"><img src="templates/DAJ_Glass/images/lang_german/icon_email.gif" alt="E-Mail senden" title="E-Mail senden" border="0" /></a>    <a href="profile.php%3Fmode=viewprofile&amp;u=1407.html"><img src="templates/DAJ_Glass/images/lang_german/icon_msnm.gif" alt="MSN Messenger" title="MSN Messenger" border="0" /></a><script language="JavaScript" type="text/javascript"><!--

				if ( navigator.userAgent.toLowerCase().indexOf('mozilla') != -1 && navigator.userAgent.indexOf('5.') == -1 && navigator.userAgent.indexOf('6.') == -1 )
					document.write(' <a href="http://wwp.icq.com/scripts/search.dll?to=377305119"><img src="templates/DAJ_Glass/images/lang_german/icon_icq_add.gif" alt="ICQ-Nummer" title="ICQ-Nummer" border="0" /></a>');
				else
					document.write('</td><td>&nbsp;</td><td valign="top" nowrap="nowrap"><div style="position:relative"><div style="position:absolute"><a href="http://wwp.icq.com/scripts/search.dll?to=377305119"><img src="templates/DAJ_Glass/images/lang_german/icon_icq_add.gif" alt="ICQ-Nummer" title="ICQ-Nummer" border="0" /></a></div><div style="position:absolute;left:3px;top:-1px"><a href="http://wwp.icq.com/377305119#pager"><img src="http://web.icq.com/whitepages/online?icq=377305119&img=5" width="18" height="18" border="0" /></a></div></div>');

				//--></script><noscript><a href="http://wwp.icq.com/scripts/search.dll?to=377305119"><img src="templates/DAJ_Glass/images/lang_german/icon_icq_add.gif" alt="ICQ-Nummer" title="ICQ-Nummer" border="0" /></a></noscript></td>
			  </tr>
			</table>
		  </td>
		</tr>
		<tr>
		  <td class="row3" colspan="2" height="2"><img src="templates/DAJ_Glass/images/spacer.gif" border="0" width="1" height="1"></td>
		</tr>
		<tr valign="middle">
		  <td class="row1" width="150" height="20" nowrap="nowrap"><span class="name"><a name="18966"></a><b>AndreasM</b></span></td>
		  <td class="row1" width="100%">
		    <table width="100%" border="0" cellspacing="0" cellpadding="0">
			  <tr>
				<td width="100%"><a href="http://www.computer-forum.net/viewtopic.php?p=18966#18966"><img src="templates/DAJ_Glass/images/icon_minipost.gif" alt="Beitrag" title="Beitrag" border="0" /></a><span class="postdetails">Verfasst am: 30.03.2008 - 21:48<span class="genmed"> </span>   Titel: </span></td>
				<td nowrap="nowrap" valign="middle"><a href="http://www.computer-forum.net/posting.php?mode=quote&amp;p=18966"><img src="templates/DAJ_Glass/images/lang_german/icon_quote.gif" alt="Antworten mit Zitat" title="Antworten mit Zitat" border="0" /></a>   </td>
			  </tr>
			</table>
		  </td>
		</tr>
		<tr>
		  <td valign="top" align="center" class="row2"><br /><span class="postdetails">Moderator<br /><img src="images/raenge/mod.gif" alt="Moderator" title="Moderator" border="0" /><br /><br /></span><div align="left"><span class="postdetails">Anmeldungsdatum: 05.03.2005<br />Beiträge: 1862<br />Wohnort: Düsseldorf</span></div><br /></td>
		  <td class="row2" width="100%" height="28" valign="top">
		    <table width="100%" border="0" cellspacing="0" cellpadding="0">
			  <tr>
				<td><span class="postbody">Wie machst Du's, wie macht's das Beispiel?
<br />
Kommt eine Fehlermeldung, oder steht etwas im Debugmodus?
<br />

<br />
MfG
<br />

<br />
AndreasM<br />_________________<br />Lernen kann nicht durch Surfen im Internet ersetzt werden, zum Lernen gehört es, Fakten zu verstehen, sich auf Geschichte einzulassen und die Welt zu interpretieren.
<br />

<br />
<span style="font-style: italic">Clifford Stoll</span></span><span class="gensmall"></span></td>
			  </tr>
			</table>
		  </td>
		</tr>
		<tr>
		  <td class="row6" valign="middle"><a href="viewtopic.php%3Ft=2930.html#top" class="mainmenu">Nach oben</a></td>
		  <td class="row6" width="100%" height="20" valign="bottom" nowrap="nowrap">
		  	<table cellspacing="0" cellpadding="0" border="0" height="18" width="18">
			  <tr>
				<td valign="middle" nowrap="nowrap"><a href="profile.php%3Fmode=viewprofile&amp;u=20.html"><img src="templates/DAJ_Glass/images/lang_german/icon_profile.gif" alt="Benutzer-Profile anzeigen" title="Benutzer-Profile anzeigen" border="0" /></a> <a href="privmsg.php%3Fmode=post&amp;u=20.html"><img src="templates/DAJ_Glass/images/lang_german/icon_pm.gif" alt="Private Nachricht senden" title="Private Nachricht senden" border="0" /></a> <a href="mailto:AndreasM@maehrus.de"><img src="templates/DAJ_Glass/images/lang_german/icon_email.gif" alt="E-Mail senden" title="E-Mail senden" border="0" /></a>  <a href="aim:goim?screenname=Maehrus&amp;message=Hello+Are+you+there?"><img src="templates/DAJ_Glass/images/lang_german/icon_aim.gif" alt="AIM-Name" title="AIM-Name" border="0" /></a>  <script language="JavaScript" type="text/javascript"><!--

				if ( navigator.userAgent.toLowerCase().indexOf('mozilla') != -1 && navigator.userAgent.indexOf('5.') == -1 && navigator.userAgent.indexOf('6.') == -1 )
					document.write(' <a href="http://wwp.icq.com/scripts/search.dll?to=164854219"><img src="templates/DAJ_Glass/images/lang_german/icon_icq_add.gif" alt="ICQ-Nummer" title="ICQ-Nummer" border="0" /></a>');
				else
					document.write('</td><td>&nbsp;</td><td valign="top" nowrap="nowrap"><div style="position:relative"><div style="position:absolute"><a href="http://wwp.icq.com/scripts/search.dll?to=164854219"><img src="templates/DAJ_Glass/images/lang_german/icon_icq_add.gif" alt="ICQ-Nummer" title="ICQ-Nummer" border="0" /></a></div><div style="position:absolute;left:3px;top:-1px"><a href="http://wwp.icq.com/164854219#pager"><img src="http://web.icq.com/whitepages/online?icq=164854219&img=5" width="18" height="18" border="0" /></a></div></div>');

				//--></script><noscript><a href="http://wwp.icq.com/scripts/search.dll?to=164854219"><img src="templates/DAJ_Glass/images/lang_german/icon_icq_add.gif" alt="ICQ-Nummer" title="ICQ-Nummer" border="0" /></a></noscript></td>
			  </tr>
			</table>
		  </td>
		</tr>
		<tr>
		  <td class="row3" colspan="2" height="2"><img src="templates/DAJ_Glass/images/spacer.gif" border="0" width="1" height="1"></td>
		</tr>
		<tr valign="middle">
		  <td class="row1" width="150" height="20" nowrap="nowrap"><span class="name"><a name="18973"></a><b>mr. xyz</b></span></td>
		  <td class="row1" width="100%">
		    <table width="100%" border="0" cellspacing="0" cellpadding="0">
			  <tr>
				<td width="100%"><a href="http://www.computer-forum.net/viewtopic.php?p=18973#18973"><img src="templates/DAJ_Glass/images/icon_minipost.gif" alt="Beitrag" title="Beitrag" border="0" /></a><span class="postdetails">Verfasst am: 31.03.2008 - 12:31<span class="genmed"> </span>   Titel: </span></td>
				<td nowrap="nowrap" valign="middle"><a href="http://www.computer-forum.net/posting.php?mode=quote&amp;p=18973"><img src="templates/DAJ_Glass/images/lang_german/icon_quote.gif" alt="Antworten mit Zitat" title="Antworten mit Zitat" border="0" /></a>   </td>
			  </tr>
			</table>
		  </td>
		</tr>
		<tr>
		  <td valign="top" align="center" class="row2"><br /><span class="postdetails">Briefschreiber<br /><img src="images/raenge/briefschreiber.gif" alt="Briefschreiber" title="Briefschreiber" border="0" /><br /><br /></span><div align="left"><span class="postdetails">Anmeldungsdatum: 01.02.2008<br />Beiträge: 39<br /></span></div><br /></td>
		  <td class="row2" width="100%" height="28" valign="top">
		    <table width="100%" border="0" cellspacing="0" cellpadding="0">
			  <tr>
				<td><span class="postbody">Ich poste mal den code:
<br />

<br />
Mein code, wurde vom DXS abgeschrieben, ist also ziemlich gleich:
<br />
</span><table width="90%" cellspacing="1" cellpadding="3" border="0" align="center">  <tr> 	<td><span class="genmed"><b>Code:</b></span></td>  </tr>  <tr>	<td class="code">#include&lt;windows.h&gt;
<br />
#include &lt;mmsystem.h&gt;
<br />
#include &lt;d3dx9.h&gt;
<br />
#pragma warning&#40; disable &#58; 4996 &#41; // disable deprecated warning 
<br />
#include &lt;strsafe.h&gt;
<br />
#pragma warning&#40; default &#58; 4996 &#41; 
<br />

<br />
LPDIRECT3D9&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;D3D&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;= NULL;
<br />
LPDIRECT3DDEVICE9&nbsp; &nbsp;&nbsp; &nbsp;D3DDevice&nbsp; &nbsp;= NULL;
<br />
LPDIRECT3DVERTEXBUFFER9 D3DVB&nbsp; &nbsp;&nbsp; &nbsp;= NULL;
<br />

<br />
struct CUSTOMVERTEX
<br />
&#123;
<br />
&nbsp; &nbsp;FLOAT x, y, z;
<br />
&nbsp; &nbsp;DWORD color;
<br />
&#125;;
<br />

<br />
#define D3DFVF_CUSTOMVERTEX &#40;D3DFVF_XYZ|D3DFVF_DIFFUSE&#41;
<br />

<br />
HRESULT InitD3D&#40; HWND hWnd &#41;
<br />
&#123;
<br />
&nbsp; &nbsp; // Create the D3D object.
<br />
&nbsp; &nbsp; if&#40; NULL == &#40; D3D = Direct3DCreate9&#40; D3D_SDK_VERSION &#41; &#41; &#41;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; return E_FAIL;
<br />

<br />
&nbsp; &nbsp; // Set up the structure used to create the D3DDevice
<br />
&nbsp; &nbsp; D3DPRESENT_PARAMETERS d3dpp;
<br />
&nbsp; &nbsp; ZeroMemory&#40; &amp;d3dpp, sizeof&#40;d3dpp&#41; &#41;;
<br />
&nbsp; &nbsp; d3dpp.Windowed = TRUE;
<br />
&nbsp; &nbsp; d3dpp.SwapEffect = D3DSWAPEFFECT_DISCARD;
<br />
&nbsp; &nbsp; d3dpp.BackBufferFormat = D3DFMT_UNKNOWN;
<br />

<br />
&nbsp; &nbsp; // Create the D3DDevice
<br />

<br />
&nbsp; &nbsp; if&#40; FAILED&#40; D3D-&gt;CreateDevice&#40; D3DADAPTER_DEFAULT, D3DDEVTYPE_HAL, hWnd,
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; D3DCREATE_SOFTWARE_VERTEXPROCESSING,
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &amp;d3dpp, &amp;D3DDevice &#41; &#41; &#41;
<br />
&nbsp; &nbsp; &#123;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; return E_FAIL;
<br />
&nbsp; &nbsp; &#125;
<br />

<br />
&nbsp; &nbsp; // Turn off culling, so we see the front and back of the triangle
<br />
&nbsp; &nbsp; D3DDevice-&gt;SetRenderState&#40; D3DRS_CULLMODE, D3DCULL_NONE &#41;;
<br />

<br />
&nbsp; &nbsp; // Turn off D3D lighting, since we are providing our own vertex colors
<br />
&nbsp; &nbsp; D3DDevice-&gt;SetRenderState&#40; D3DRS_LIGHTING, FALSE &#41;;
<br />

<br />
&nbsp; &nbsp; return S_OK;
<br />
&#125;
<br />

<br />
HRESULT InitGeometry&#40;&#41;
<br />
&#123;
<br />
&nbsp; &nbsp;CUSTOMVERTEX Vertices&#91;&#93;=&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123; -1.0f, 0.0f, 0.0f, D3DCOLOR_XRGB&#40;234, 25, 12&#41;, &#125; ,
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123; 1.0f, 0.0f, 0.0f,&nbsp; D3DCOLOR_XRGB&#40;13, 143, 54&#41;, &#125; ,
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&#123; 0.0f, 1.0f, 0.0f,&nbsp; D3DCOLOR_XRGB&#40;4, 34, 212&#41; , &#125; ,
<br />
&nbsp; &nbsp;&#125;;
<br />
&nbsp; &nbsp;if&#40;FAILED&#40;D3DDevice-&gt;CreateVertexBuffer&#40;3*sizeof&#40;CUSTOMVERTEX&#41;, 0, D3DFVF_CUSTOMVERTEX,
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;D3DPOOL_DEFAULT, &amp;D3DVB, NULL&#41;&#41;&#41;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;return E_FAIL;&#125;
<br />
&nbsp; &nbsp;VOID* pVertices;
<br />
&nbsp; &nbsp;D3DVB-&gt;Lock&#40;0, sizeof&#40;Vertices&#41;, &#40;void**&#41;&amp;pVertices, 0&#41;;
<br />
&nbsp; &nbsp;memcpy&#40;pVertices, Vertices, sizeof&#40;Vertices&#41;&#41;;
<br />
&nbsp; &nbsp;D3DVB-&gt;Unlock&#40;&#41;;
<br />
&nbsp; &nbsp;return S_OK;
<br />
&#125;
<br />

<br />

<br />
VOID Cleanup&#40;&#41;
<br />
&#123;
<br />
&nbsp; &nbsp; if&#40; D3DVB != NULL &#41;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; D3DVB-&gt;Release&#40;&#41;;
<br />

<br />
&nbsp; &nbsp; if&#40; D3DDevice != NULL &#41;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; D3DDevice-&gt;Release&#40;&#41;;
<br />

<br />
&nbsp; &nbsp; if&#40; D3D != NULL &#41;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; D3D-&gt;Release&#40;&#41;;
<br />
&#125;
<br />

<br />
VOID SetupMatrices&#40;&#41;
<br />
&#123;
<br />
&nbsp; &nbsp;D3DXMATRIXA16 matWorld;
<br />

<br />
&nbsp; &nbsp;UINT&nbsp; iTime&nbsp; = timeGetTime&#40;&#41; % 1000;
<br />
&nbsp; &nbsp; FLOAT fAngle = iTime * &#40;2.0f * D3DX_PI&#41; / 1000.0f;
<br />
&nbsp; &nbsp; D3DXMatrixRotationY&#40; &amp;matWorld, fAngle &#41;;
<br />
&nbsp; &nbsp; D3DDevice-&gt;SetTransform&#40; D3DTS_WORLD, &amp;matWorld &#41;;
<br />

<br />
&nbsp; &nbsp;D3DXVECTOR3 vEyePt&#40; 0.0f, 3.0f,-5.0f &#41;;
<br />
&nbsp; &nbsp; D3DXVECTOR3 vLookatPt&#40; 0.0f, 0.0f, 0.0f &#41;;
<br />
&nbsp; &nbsp; D3DXVECTOR3 vUpVec&#40; 0.0f, 1.0f, 0.0f &#41;;
<br />
&nbsp; &nbsp; D3DXMATRIXA16 matView;
<br />
&nbsp; &nbsp; D3DXMatrixLookAtLH&#40; &amp;matView, &amp;vEyePt, &amp;vLookatPt, &amp;vUpVec &#41;;
<br />
&nbsp; &nbsp; D3DDevice-&gt;SetTransform&#40; D3DTS_VIEW, &amp;matView &#41;;
<br />

<br />
&nbsp; &nbsp;D3DXMATRIXA16 matProj;
<br />
&nbsp; &nbsp; D3DXMatrixPerspectiveFovLH&#40; &amp;matProj, D3DX_PI/4, 1.0f, 1.0f, 100.0f &#41;;
<br />
&nbsp; &nbsp; D3DDevice-&gt;SetTransform&#40; D3DTS_PROJECTION, &amp;matProj &#41;;
<br />
&#125;
<br />

<br />
VOID Render&#40;&#41;
<br />
&#123;
<br />
&nbsp; &nbsp;D3DDevice-&gt;Clear&#40;0, NULL, D3DCLEAR_TARGET, D3DCOLOR_XRGB&#40;0, 255, 0&#41;, 1.0f, 0&#41;;
<br />

<br />
&nbsp; &nbsp;if&#40;SUCCEEDED&#40;D3DDevice-&gt;BeginScene&#40;&#41;&#41;&#41;
<br />
&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;SetupMatrices&#40;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;D3DDevice-&gt;SetFVF&#40;D3DFVF_CUSTOMVERTEX&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;D3DDevice-&gt;SetStreamSource&#40;0, D3DVB, 0, sizeof&#40;CUSTOMVERTEX&#41;&#41;;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;D3DDevice-&gt;DrawPrimitive&#40;D3DPT_TRIANGLESTRIP, 0, 1&#41;;
<br />

<br />
&nbsp; &nbsp;&nbsp; &nbsp;D3DDevice-&gt;EndScene&#40;&#41;;
<br />
&nbsp; &nbsp;&#125;
<br />
&nbsp; &nbsp;D3DDevice-&gt;Present&#40;NULL, NULL, NULL, NULL&#41;;
<br />
&#125;
<br />

<br />
LRESULT WINAPI MsgProc&#40; HWND hWnd, UINT msg, WPARAM wParam, LPARAM lParam &#41;
<br />
&#123;
<br />
&nbsp; &nbsp; switch&#40; msg &#41;
<br />
&nbsp; &nbsp; &#123;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; case WM_DESTROY&#58;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Cleanup&#40;&#41;;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PostQuitMessage&#40; 0 &#41;;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return 0;
<br />
&nbsp; &nbsp; &#125;
<br />

<br />
&nbsp; &nbsp; return DefWindowProc&#40; hWnd, msg, wParam, lParam &#41;;
<br />
&#125;
<br />

<br />

<br />
INT WINAPI wWinMain&#40;HINSTANCE hinstance,
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;HINSTANCE,
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;LPWSTR,
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;INT&#41;
<br />
&#123;
<br />
&nbsp; &nbsp;WNDCLASSEX wc=&#123;sizeof&#40;WNDCLASSEX&#41;, CS_CLASSDC, MsgProc, 0L, 0L,
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GetModuleHandle&#40;NULL&#41;, NULL, NULL, NULL, NULL,
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;D3D Tutorial&quot;, NULL &#125;;
<br />
&nbsp; &nbsp;RegisterClassEx&#40;&amp;wc&#41;;
<br />

<br />
&nbsp; &nbsp;HWND hWnd=CreateWindow&#40;&quot;Uebung&quot;, &quot;Uebung D3D&quot;, WS_OVERLAPPEDWINDOW, 
<br />
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;0, 0, 800, 600, NULL, NULL, wc.hInstance, NULL&#41;;
<br />
&nbsp; &nbsp;if&#40;SUCCEEDED&#40;InitD3D&#40;hWnd&#41;&#41;&#41;
<br />
&nbsp; &nbsp;&#123;
<br />
&nbsp; &nbsp;&nbsp; &nbsp;if&#40; SUCCEEDED&#40; InitGeometry&#40;&#41; &#41; &#41;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#123;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Show the window
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ShowWindow&#40; hWnd, SW_SHOWDEFAULT &#41;;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UpdateWindow&#40; hWnd &#41;;
<br />

<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Enter the message loop
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MSG msg;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ZeroMemory&#40; &amp;msg, sizeof&#40;msg&#41; &#41;;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while&#40; msg.message!=WM_QUIT &#41;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if&#40; PeekMessage&#40; &amp;msg, NULL, 0U, 0U, PM_REMOVE &#41; &#41;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TranslateMessage&#40; &amp;msg &#41;;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DispatchMessage&#40; &amp;msg &#41;;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Render&#40;&#41;;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#125;
<br />
&nbsp; &nbsp; &#125;
<br />

<br />
&nbsp; &nbsp; UnregisterClass&#40; &quot;D3D Tutorial&quot;, wc.hInstance &#41;;
<br />
&nbsp; &nbsp; return 0;
<br />
&#125;
<br />
</td>  </tr></table><span class="postbody">
<br />

<br />
Es kompiliert zwar fehlerfrei, kein debugfehler aber wenn ich im debug-modus mitsehe, initialisiert sich das device nicht!
<br />

<br />
DXSample:
<br />
</span><table width="90%" cellspacing="1" cellpadding="3" border="0" align="center">  <tr> 	<td><span class="genmed"><b>Code:</b></span></td>  </tr>  <tr>	<td class="code">//-----------------------------------------------------------------------------
<br />
// File&#58; Matrices.cpp
<br />
//
<br />
// Desc&#58; Now that we know how to create a device and render some 2D vertices,
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;this tutorial goes the next step and renders 3D geometry. To deal with
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;3D geometry we need to introduce the use of 4x4 Matrices to transform
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;the geometry with translations, rotations, scaling, and setting up our
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;camera.
<br />
//
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;Geometry is defined in model space. We can move it &#40;translation&#41;,
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;rotate it &#40;rotation&#41;, or stretch it &#40;scaling&#41; using a world transform.
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;The geometry is then said to be in world space. Next, we need to
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;position the camera, or eye point, somewhere to look at the geometry.
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;Another transform, via the view matrix, is used, to position and
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;rotate our view. With the geometry then in view space, our last
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;transform is the projection transform, which &quot;projects&quot; the 3D scene
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;into our 2D viewport.
<br />
//
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;Note that in this tutorial, we are introducing the use of D3DX, which
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;is a set of helper utilities for D3D. In this case, we are using some
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;of D3DX's useful matrix initialization functions. To use D3DX, simply
<br />
//&nbsp; &nbsp; &nbsp; &nbsp;include &lt;d3dx9.h&gt; and link with d3dx9.lib.
<br />
//
<br />
// Copyright &#40;c&#41; Microsoft Corporation. All rights reserved.
<br />
//-----------------------------------------------------------------------------
<br />
#include &lt;Windows.h&gt;
<br />
#include &lt;mmsystem.h&gt;
<br />
#include &lt;d3dx9.h&gt;
<br />
#pragma warning&#40; disable &#58; 4996 &#41; // disable deprecated warning 
<br />
#include &lt;strsafe.h&gt;
<br />
#pragma warning&#40; default &#58; 4996 &#41; 
<br />

<br />

<br />

<br />

<br />
//-----------------------------------------------------------------------------
<br />
// Global variables
<br />
//-----------------------------------------------------------------------------
<br />
LPDIRECT3D9&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;g_pD3D&nbsp; &nbsp; &nbsp; &nbsp;= NULL; // Used to create the D3DDevice
<br />
LPDIRECT3DDEVICE9&nbsp; &nbsp; &nbsp; &nbsp;g_pd3dDevice = NULL; // Our rendering device
<br />
LPDIRECT3DVERTEXBUFFER9 g_pVB&nbsp; &nbsp; &nbsp; &nbsp; = NULL; // Buffer to hold vertices
<br />

<br />
// A structure for our custom vertex type
<br />
struct CUSTOMVERTEX
<br />
&#123;
<br />
&nbsp; &nbsp; FLOAT x, y, z;&nbsp; &nbsp; &nbsp; // The untransformed, 3D position for the vertex
<br />
&nbsp; &nbsp; DWORD color;&nbsp; &nbsp; &nbsp; &nbsp; // The vertex color
<br />
&#125;;
<br />

<br />
// Our custom FVF, which describes our custom vertex structure
<br />
#define D3DFVF_CUSTOMVERTEX &#40;D3DFVF_XYZ|D3DFVF_DIFFUSE&#41;
<br />

<br />

<br />

<br />

<br />
//-----------------------------------------------------------------------------
<br />
// Name&#58; InitD3D&#40;&#41;
<br />
// Desc&#58; Initializes Direct3D
<br />
//-----------------------------------------------------------------------------
<br />
HRESULT InitD3D&#40; HWND hWnd &#41;
<br />
&#123;
<br />
&nbsp; &nbsp; // Create the D3D object.
<br />
&nbsp; &nbsp; if&#40; NULL == &#40; g_pD3D = Direct3DCreate9&#40; D3D_SDK_VERSION &#41; &#41; &#41;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; return E_FAIL;
<br />

<br />
&nbsp; &nbsp; // Set up the structure used to create the D3DDevice
<br />
&nbsp; &nbsp; D3DPRESENT_PARAMETERS d3dpp;
<br />
&nbsp; &nbsp; ZeroMemory&#40; &amp;d3dpp, sizeof&#40;d3dpp&#41; &#41;;
<br />
&nbsp; &nbsp; d3dpp.Windowed = TRUE;
<br />
&nbsp; &nbsp; d3dpp.SwapEffect = D3DSWAPEFFECT_DISCARD;
<br />
&nbsp; &nbsp; d3dpp.BackBufferFormat = D3DFMT_UNKNOWN;
<br />

<br />
&nbsp; &nbsp; // Create the D3DDevice
<br />
&nbsp; &nbsp; if&#40; FAILED&#40; g_pD3D-&gt;CreateDevice&#40; D3DADAPTER_DEFAULT, D3DDEVTYPE_HAL, hWnd,
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; D3DCREATE_SOFTWARE_VERTEXPROCESSING,
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &amp;d3dpp, &amp;g_pd3dDevice &#41; &#41; &#41;
<br />
&nbsp; &nbsp; &#123;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; return E_FAIL;
<br />
&nbsp; &nbsp; &#125;
<br />

<br />
&nbsp; &nbsp; // Turn off culling, so we see the front and back of the triangle
<br />
&nbsp; &nbsp; g_pd3dDevice-&gt;SetRenderState&#40; D3DRS_CULLMODE, D3DCULL_NONE &#41;;
<br />

<br />
&nbsp; &nbsp; // Turn off D3D lighting, since we are providing our own vertex colors
<br />
&nbsp; &nbsp; g_pd3dDevice-&gt;SetRenderState&#40; D3DRS_LIGHTING, FALSE &#41;;
<br />

<br />
&nbsp; &nbsp; return S_OK;
<br />
&#125;
<br />

<br />

<br />

<br />

<br />
//-----------------------------------------------------------------------------
<br />
// Name&#58; InitGeometry&#40;&#41;
<br />
// Desc&#58; Creates the scene geometry
<br />
//-----------------------------------------------------------------------------
<br />
HRESULT InitGeometry&#40;&#41;
<br />
&#123;
<br />
&nbsp; &nbsp; // Initialize three vertices for rendering a triangle
<br />
&nbsp; &nbsp; CUSTOMVERTEX g_Vertices&#91;&#93; =
<br />
&nbsp; &nbsp; &#123;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#123; -1.0f,-1.0f, 0.0f, 0xffff0000, &#125;,
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#123;&nbsp; 1.0f,-1.0f, 0.0f, 0xff0000ff, &#125;,
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#123;&nbsp; 0.0f, 1.0f, 0.0f, 0xffffffff, &#125;,
<br />
&nbsp; &nbsp; &#125;;
<br />

<br />
&nbsp; &nbsp; // Create the vertex buffer.
<br />
&nbsp; &nbsp; if&#40; FAILED&#40; g_pd3dDevice-&gt;CreateVertexBuffer&#40; 3*sizeof&#40;CUSTOMVERTEX&#41;,
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0, D3DFVF_CUSTOMVERTEX,
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; D3DPOOL_DEFAULT, &amp;g_pVB, NULL &#41; &#41; &#41;
<br />
&nbsp; &nbsp; &#123;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; return E_FAIL;
<br />
&nbsp; &nbsp; &#125;
<br />

<br />
&nbsp; &nbsp; // Fill the vertex buffer.
<br />
&nbsp; &nbsp; VOID* pVertices;
<br />
&nbsp; &nbsp; if&#40; FAILED&#40; g_pVB-&gt;Lock&#40; 0, sizeof&#40;g_Vertices&#41;, &#40;void**&#41;&amp;pVertices, 0 &#41; &#41; &#41;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; return E_FAIL;
<br />
&nbsp; &nbsp; memcpy&#40; pVertices, g_Vertices, sizeof&#40;g_Vertices&#41; &#41;;
<br />
&nbsp; &nbsp; g_pVB-&gt;Unlock&#40;&#41;;
<br />

<br />
&nbsp; &nbsp; return S_OK;
<br />
&#125;
<br />

<br />

<br />

<br />

<br />
//-----------------------------------------------------------------------------
<br />
// Name&#58; Cleanup&#40;&#41;
<br />
// Desc&#58; Releases all previously initialized objects
<br />
//-----------------------------------------------------------------------------
<br />
VOID Cleanup&#40;&#41;
<br />
&#123;
<br />
&nbsp; &nbsp; if&#40; g_pVB != NULL &#41;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; g_pVB-&gt;Release&#40;&#41;;
<br />

<br />
&nbsp; &nbsp; if&#40; g_pd3dDevice != NULL &#41;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; g_pd3dDevice-&gt;Release&#40;&#41;;
<br />

<br />
&nbsp; &nbsp; if&#40; g_pD3D != NULL &#41;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; g_pD3D-&gt;Release&#40;&#41;;
<br />
&#125;
<br />

<br />

<br />

<br />
//-----------------------------------------------------------------------------
<br />
// Name&#58; SetupMatrices&#40;&#41;
<br />
// Desc&#58; Sets up the world, view, and projection transform Matrices.
<br />
//-----------------------------------------------------------------------------
<br />
VOID SetupMatrices&#40;&#41;
<br />
&#123;
<br />
&nbsp; &nbsp; // For our world matrix, we will just rotate the object about the y-axis.
<br />
&nbsp; &nbsp; D3DXMATRIXA16 matWorld;
<br />

<br />
&nbsp; &nbsp; // Set up the rotation matrix to generate 1 full rotation &#40;2*PI radians&#41; 
<br />
&nbsp; &nbsp; // every 1000 ms. To avoid the loss of precision inherent in very high 
<br />
&nbsp; &nbsp; // floating point numbers, the system time is modulated by the rotation 
<br />
&nbsp; &nbsp; // period before conversion to a radian angle.
<br />
&nbsp; &nbsp; UINT&nbsp; iTime&nbsp; = timeGetTime&#40;&#41; % 1000;
<br />
&nbsp; &nbsp; FLOAT fAngle = iTime * &#40;2.0f * D3DX_PI&#41; / 1000.0f;
<br />
&nbsp; &nbsp; D3DXMatrixRotationY&#40; &amp;matWorld, fAngle &#41;;
<br />
&nbsp; &nbsp; g_pd3dDevice-&gt;SetTransform&#40; D3DTS_WORLD, &amp;matWorld &#41;;
<br />

<br />
&nbsp; &nbsp; // Set up our view matrix. A view matrix can be defined given an eye point,
<br />
&nbsp; &nbsp; // a point to lookat, and a direction for which way is up. Here, we set the
<br />
&nbsp; &nbsp; // eye five units back along the z-axis and up three units, look at the
<br />
&nbsp; &nbsp; // origin, and define &quot;up&quot; to be in the y-direction.
<br />
&nbsp; &nbsp; D3DXVECTOR3 vEyePt&#40; 0.0f, 3.0f,-5.0f &#41;;
<br />
&nbsp; &nbsp; D3DXVECTOR3 vLookatPt&#40; 0.0f, 0.0f, 0.0f &#41;;
<br />
&nbsp; &nbsp; D3DXVECTOR3 vUpVec&#40; 0.0f, 1.0f, 0.0f &#41;;
<br />
&nbsp; &nbsp; D3DXMATRIXA16 matView;
<br />
&nbsp; &nbsp; D3DXMatrixLookAtLH&#40; &amp;matView, &amp;vEyePt, &amp;vLookatPt, &amp;vUpVec &#41;;
<br />
&nbsp; &nbsp; g_pd3dDevice-&gt;SetTransform&#40; D3DTS_VIEW, &amp;matView &#41;;
<br />

<br />
&nbsp; &nbsp; // For the projection matrix, we set up a perspective transform &#40;which
<br />
&nbsp; &nbsp; // transforms geometry from 3D view space to 2D viewport space, with
<br />
&nbsp; &nbsp; // a perspective divide making objects smaller in the distance&#41;. To build
<br />
&nbsp; &nbsp; // a perpsective transform, we need the field of view &#40;1/4 pi is common&#41;,
<br />
&nbsp; &nbsp; // the aspect ratio, and the near and far clipping planes &#40;which define at
<br />
&nbsp; &nbsp; // what distances geometry should be no longer be rendered&#41;.
<br />
&nbsp; &nbsp; D3DXMATRIXA16 matProj;
<br />
&nbsp; &nbsp; D3DXMatrixPerspectiveFovLH&#40; &amp;matProj, D3DX_PI/4, 1.0f, 1.0f, 100.0f &#41;;
<br />
&nbsp; &nbsp; g_pd3dDevice-&gt;SetTransform&#40; D3DTS_PROJECTION, &amp;matProj &#41;;
<br />
&#125;
<br />

<br />

<br />

<br />
//-----------------------------------------------------------------------------
<br />
// Name&#58; Render&#40;&#41;
<br />
// Desc&#58; Draws the scene
<br />
//-----------------------------------------------------------------------------
<br />
VOID Render&#40;&#41;
<br />
&#123;
<br />
&nbsp; &nbsp; // Clear the backbuffer to a black color
<br />
&nbsp; &nbsp; g_pd3dDevice-&gt;Clear&#40; 0, NULL, D3DCLEAR_TARGET, D3DCOLOR_XRGB&#40;0,0,0&#41;, 1.0f, 0 &#41;;
<br />

<br />
&nbsp; &nbsp; // Begin the scene
<br />
&nbsp; &nbsp; if&#40; SUCCEEDED&#40; g_pd3dDevice-&gt;BeginScene&#40;&#41; &#41; &#41;
<br />
&nbsp; &nbsp; &#123;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; // Setup the world, view, and projection Matrices
<br />
&nbsp; &nbsp; &nbsp; &nbsp; SetupMatrices&#40;&#41;;
<br />

<br />
&nbsp; &nbsp; &nbsp; &nbsp; // Render the vertex buffer contents
<br />
&nbsp; &nbsp; &nbsp; &nbsp; g_pd3dDevice-&gt;SetStreamSource&#40; 0, g_pVB, 0, sizeof&#40;CUSTOMVERTEX&#41; &#41;;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; g_pd3dDevice-&gt;SetFVF&#40; D3DFVF_CUSTOMVERTEX &#41;;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; g_pd3dDevice-&gt;DrawPrimitive&#40; D3DPT_TRIANGLESTRIP, 0, 1 &#41;;
<br />

<br />
&nbsp; &nbsp; &nbsp; &nbsp; // End the scene
<br />
&nbsp; &nbsp; &nbsp; &nbsp; g_pd3dDevice-&gt;EndScene&#40;&#41;;
<br />
&nbsp; &nbsp; &#125;
<br />

<br />
&nbsp; &nbsp; // Present the backbuffer contents to the display
<br />
&nbsp; &nbsp; g_pd3dDevice-&gt;Present&#40; NULL, NULL, NULL, NULL &#41;;
<br />
&#125;
<br />

<br />

<br />

<br />

<br />
//-----------------------------------------------------------------------------
<br />
// Name&#58; MsgProc&#40;&#41;
<br />
// Desc&#58; The window's message handler
<br />
//-----------------------------------------------------------------------------
<br />
LRESULT WINAPI MsgProc&#40; HWND hWnd, UINT msg, WPARAM wParam, LPARAM lParam &#41;
<br />
&#123;
<br />
&nbsp; &nbsp; switch&#40; msg &#41;
<br />
&nbsp; &nbsp; &#123;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; case WM_DESTROY&#58;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Cleanup&#40;&#41;;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PostQuitMessage&#40; 0 &#41;;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return 0;
<br />
&nbsp; &nbsp; &#125;
<br />

<br />
&nbsp; &nbsp; return DefWindowProc&#40; hWnd, msg, wParam, lParam &#41;;
<br />
&#125;
<br />

<br />

<br />

<br />

<br />
//-----------------------------------------------------------------------------
<br />
// Name&#58; WinMain&#40;&#41;
<br />
// Desc&#58; The application's entry point
<br />
//-----------------------------------------------------------------------------
<br />
INT WINAPI wWinMain&#40; HINSTANCE hInst, HINSTANCE, LPWSTR, INT &#41;
<br />
&#123;
<br />
&nbsp; &nbsp; // Register the window class
<br />
&nbsp; &nbsp; WNDCLASSEX wc = &#123; sizeof&#40;WNDCLASSEX&#41;, CS_CLASSDC, MsgProc, 0L, 0L,
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GetModuleHandle&#40;NULL&#41;, NULL, NULL, NULL, NULL,
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;D3D Tutorial&quot;, NULL &#125;;
<br />
&nbsp; &nbsp; RegisterClassEx&#40; &amp;wc &#41;;
<br />

<br />
&nbsp; &nbsp; // Create the application's window
<br />
&nbsp; &nbsp; HWND hWnd = CreateWindow&#40; &quot;D3D Tutorial&quot;, &quot;D3D Tutorial 03&#58; Matrices&quot;,
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WS_OVERLAPPEDWINDOW, 100, 100, 256, 256,
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL, NULL, wc.hInstance, NULL &#41;;
<br />

<br />
&nbsp; &nbsp; // Initialize Direct3D
<br />
&nbsp; &nbsp; if&#40; SUCCEEDED&#40; InitD3D&#40; hWnd &#41; &#41; &#41;
<br />
&nbsp; &nbsp; &#123;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; // Create the scene geometry
<br />
&nbsp; &nbsp; &nbsp; &nbsp; if&#40; SUCCEEDED&#40; InitGeometry&#40;&#41; &#41; &#41;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#123;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Show the window
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ShowWindow&#40; hWnd, SW_SHOWDEFAULT &#41;;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UpdateWindow&#40; hWnd &#41;;
<br />

<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Enter the message loop
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MSG msg;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ZeroMemory&#40; &amp;msg, sizeof&#40;msg&#41; &#41;;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while&#40; msg.message!=WM_QUIT &#41;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if&#40; PeekMessage&#40; &amp;msg, NULL, 0U, 0U, PM_REMOVE &#41; &#41;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TranslateMessage&#40; &amp;msg &#41;;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DispatchMessage&#40; &amp;msg &#41;;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Render&#40;&#41;;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#125;
<br />
&nbsp; &nbsp; &#125;
<br />

<br />
&nbsp; &nbsp; UnregisterClass&#40; &quot;D3D Tutorial&quot;, wc.hInstance &#41;;
<br />
&nbsp; &nbsp; return 0;
<br />
&#125;
<br />

<br />

<br />

<br />
</td>  </tr></table><span class="postbody">
<br />

<br />
Da läuft alles ohne Fehler! Obwohl es gleich ist oder?
<br />

<br />
mfg<br />_________________<br />Es gibt keine Evolutionstheorie,sondern nur eine Liste von Tieren, die Chuck Norris erlaubt zu Leben .
<br />

<br />

<br />
Chuck Norris war schonmal auf dem Mars, deshalb gibt es auch kein Leben dort!</span><span class="gensmall"></span></td>
			  </tr>
			</table>
		  </td>
		</tr>
		<tr>
		  <td class="row6" valign="middle"><a href="viewtopic.php%3Ft=2930.html#top" class="mainmenu">Nach oben</a></td>
		  <td class="row6" width="100%" height="20" valign="bottom" nowrap="nowrap">
		  	<table cellspacing="0" cellpadding="0" border="0" height="18" width="18">
			  <tr>
				<td valign="middle" nowrap="nowrap"><a href="profile.php%3Fmode=viewprofile&amp;u=1407.html"><img src="templates/DAJ_Glass/images/lang_german/icon_profile.gif" alt="Benutzer-Profile anzeigen" title="Benutzer-Profile anzeigen" border="0" /></a> <a href="privmsg.php%3Fmode=post&amp;u=1407.html"><img src="templates/DAJ_Glass/images/lang_german/icon_pm.gif" alt="Private Nachricht senden" title="Private Nachricht senden" border="0" /></a> <a href="mailto:Franz.Scherr@hotmail.com"><img src="templates/DAJ_Glass/images/lang_german/icon_email.gif" alt="E-Mail senden" title="E-Mail senden" border="0" /></a>    <a href="profile.php%3Fmode=viewprofile&amp;u=1407.html"><img src="templates/DAJ_Glass/images/lang_german/icon_msnm.gif" alt="MSN Messenger" title="MSN Messenger" border="0" /></a><script language="JavaScript" type="text/javascript"><!--

				if ( navigator.userAgent.toLowerCase().indexOf('mozilla') != -1 && navigator.userAgent.indexOf('5.') == -1 && navigator.userAgent.indexOf('6.') == -1 )
					document.write(' <a href="http://wwp.icq.com/scripts/search.dll?to=377305119"><img src="templates/DAJ_Glass/images/lang_german/icon_icq_add.gif" alt="ICQ-Nummer" title="ICQ-Nummer" border="0" /></a>');
				else
					document.write('</td><td>&nbsp;</td><td valign="top" nowrap="nowrap"><div style="position:relative"><div style="position:absolute"><a href="http://wwp.icq.com/scripts/search.dll?to=377305119"><img src="templates/DAJ_Glass/images/lang_german/icon_icq_add.gif" alt="ICQ-Nummer" title="ICQ-Nummer" border="0" /></a></div><div style="position:absolute;left:3px;top:-1px"><a href="http://wwp.icq.com/377305119#pager"><img src="http://web.icq.com/whitepages/online?icq=377305119&img=5" width="18" height="18" border="0" /></a></div></div>');

				//--></script><noscript><a href="http://wwp.icq.com/scripts/search.dll?to=377305119"><img src="templates/DAJ_Glass/images/lang_german/icon_icq_add.gif" alt="ICQ-Nummer" title="ICQ-Nummer" border="0" /></a></noscript></td>
			  </tr>
			</table>
		  </td>
		</tr>
		<tr>
		  <td class="row3" colspan="2" height="2"><img src="templates/DAJ_Glass/images/spacer.gif" border="0" width="1" height="1"></td>
		</tr>
		<tr align="center">
		  <td class="row3" colspan="2" height="28">
		    <table cellspacing="0" cellpadding="0" border="0">
			  <tr><form method="post" action="http://www.computer-forum.net/viewtopic.php?t=2930&amp;start=0">
				<td align="center"><span class="mainmenu1">Beiträge der letzten Zeit anzeigen: <select name="postdays"><option value="0" selected="selected">Alle Beiträge</option><option value="1">1 Tag</option><option value="7">7 Tage</option><option value="14">2 Wochen</option><option value="30">1 Monat</option><option value="90">3 Monate</option><option value="180">6 Monate</option><option value="364">1 Jahr</option></select> <select name="postorder"><option value="asc" selected="selected">Die ältesten zuerst</option><option value="desc">Die neusten zuerst</option></select> <input type="submit" value="Los" class="liteoption" name="submit" /></span></td>
			  </form></tr>
			</table>
		  </td>
		</tr>
	  </table>
	</td>
  </tr>
</table>

<table width="100%" cellspacing="1" cellpadding="1" border="0">
  <tr valign="top">
	<td nowrap="nowrap"><span class="nav"><a href="posting.php%3Fmode=newtopic&amp;f=10.html"><img src="templates/DAJ_Glass/images/lang_german/post.gif" border="0" alt="Neues Thema eröffnen" align="middle" /></a>  <a href="http://www.computer-forum.net/posting.php?mode=reply&amp;t=2930"><img src="templates/DAJ_Glass/images/lang_german/reply.gif" border="0" alt="Neue Antwort erstellen" align="middle" /></a></span></td>
	<td valign="middle" width="100%"><span class="gensmall"></span></td>
	<td align="right" nowrap="nowrap"><span class="nav">Seite <b>1</b> von <b>1</b></span></td>
  </tr>
</table>

<br />

<table width="100%" cellspacing="1" cellpadding="1" border="0">
  <tr valign="top">
	<td nowrap="nowrap"><img src="templates/DAJ_Glass/images/nav.gif" border="0"></td>
	<td width="100%"><span class="mainmenu"><a href="index.php.html" class="mainmenu">Computer-Forum Foren-Übersicht</a> » <a href="viewforum.php%3Ff=10.html" class="mainmenu">Programmieren</a> » <a class="mainmenu" href="viewtopic.php%3Ft=2930&amp;start=0&amp;postdays=0&amp;postorder=asc&amp;highlight=.html">Problem mit DX...C++</a></span></td>
	<td nowrap="nowrap" align="right"><form method="get" name="jumpbox" action="http://www.computer-forum.net/viewforum.php" onSubmit="if(document.jumpbox.f.value == -1){return false;}">
<table cellspacing="0" cellpadding="0" border="0">
  <tr>
	<td nowrap="nowrap"><span class="gensmall">Gehe zu: <select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ forms['jumpbox'].submit() }"><option value="-1">Forum auswählen</option><option value="-1">&nbsp;</option><option value="-1">Betriebssysteme</option><option value="-1">----------------</option><option value="2">Linux</option><option value="3">Mac OS X / Unix</option><option value="4">Windows</option><option value="5">Sonst. Betriebssysteme</option><option value="-1">&nbsp;</option><option value="-1">Hardware</option><option value="-1">----------------</option><option value="6">Hardware</option><option value="7">Mobile Computing</option><option value="-1">&nbsp;</option><option value="-1">Software</option><option value="-1">----------------</option><option value="8">Anwendungen</option><option value="9">Spiele</option><option value="10"selected="selected">Programmieren</option><option value="11">Sicherheit</option><option value="-1">&nbsp;</option><option value="-1">Internet & Intranet</option><option value="-1">----------------</option><option value="12">Netzwerk</option><option value="13">Web-Forum</option><option value="-1">&nbsp;</option><option value="-1">Sonstiges</option><option value="-1">----------------</option><option value="1">Rund ums Forum</option><option value="18">Kaufberatung</option><option value="15">Smalltalk</option></select><input type="hidden" name="sid" value="74cf9c6e0ec09eb401cf65cc493d8e44" /> <input type="submit" value="Los" class="liteoption" /></span></td>
  </tr>
</table>
</form>
</td>
  </tr>
</table>

<br />

<table width="100%" cellspacing="0" cellpadding="0" class="forumline">
  <tr>
  	<td class="row6">
	  <table width="100%" cellspacing="1" cellpadding="3" border="0">
		<tr>
		  <td width="40%" valign="top" nowrap="nowrap"><span class="gensmall"></span><br /><br /></td>
		  <td align="right" valign="middle" nowrap="nowrap"><span class="gensmall">Du <b>kannst keine</b> Beiträge in dieses Forum schreiben.<br />Du <b>kannst</b> auf Beiträge in diesem Forum <b>nicht</b> antworten.<br />Du <b>kannst</b> deine Beiträge in diesem Forum <b>nicht</b> bearbeiten.<br />Du <b>kannst</b> deine Beiträge in diesem Forum <b>nicht</b> löschen.<br />Du <b>kannst</b> an Umfragen in diesem Forum <b>nicht</b> mitmachen.<br /></span></td>
  		</tr>
	  </table>
	</td>
  </tr>
</table>

  	</td>
	<td class="right"><span class="vsmall"> </span></td>
  </tr>
  <tr>
  	<td class="left"><span class="vsmall"> </span></td>
	<td colspan="2" class="row2">
	<div align="center"><span class="copyright"><br /><br />
	<a href="http://www.computer-forum.net/viewtopic.php?p=1661"><b>Impressum</b></a><br/><br><br>
	DAJ Glass (1.0.5) template by <a href="http://www.dumbassjones.com/" target="_blank" class="copyright">Dustin Baccetti</a><br />
	Powered by <a href="http://www.phpbb.com/" target="_phpbb" class="copyright">phpBB</a>  © 2001, 2002 phpBB Group<br />Deutsche Übersetzung von <a href="http://www.phpbb.de/" target="_blank" class="copyright">phpBB.de</a></span></div>
	</td>
	<td class="right"><span class="vsmall"> </span></td>
  </tr>
  <tr>
  	<td height="27" class="ll"><span class="vsmall"> </span></td>
	<td colspan="2" class="lc"><span class="vsmall"> </span></td>
	<td class="lr"><span class="vsmall"> </span></td>
  </tr>
</table>

</body>
</html>

